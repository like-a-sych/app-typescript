{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/app-typescript/src/components/Pages/Products/Products.tsx\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { MainContext } from \"../../../context\";\nimport ProductService from \"../../../services/productService\";\nimport { useSearch } from \"../../../hooks/useSearch\";\nimport { useTableCheckbox } from \"../../../hooks/useTableCheckbox\";\nimport { usePagination } from \"../../../hooks/usePagination\";\nimport Pagination from \"../../UI/TabComponents/components/Pagination/Pagination\";\nimport Table from \"../../UI/TabComponents/components/Table/Table\";\nimport SearchInput from \"../../UI/TabComponents/components/SearchInput/SearchInput\";\nimport style from \"../../UI/TabComponents/components/Table/components/TableContainer/TableContainer.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  const {\n    setModalState\n  } = useContext(MainContext);\n  const columns = [{\n    name: \"Название\",\n    selector: row => row.nameFrom1C\n  }, {\n    name: \"Артикул\",\n    selector: row => row.codeFrom1C\n  }];\n  const [products, setProducts] = useState([]);\n\n  //моковая длина массива для вычисления lastPagePagination\n  const [lengthData, setLengthData] = useState(0);\n  const loadProducts = async (limitRowsOnPage, paginationObj) => {\n    const data = await ProductService.getProduct(limitRowsOnPage, paginationObj);\n    setProducts(data.data);\n    setLengthData(data.dataLength);\n  };\n  const searchProducts = async value => {\n    const data = await ProductService.searchProduct(value);\n    setProducts(data);\n  };\n  const paginationSetting = usePagination(products, lengthData, loadProducts);\n  const checkboxSetting = useTableCheckbox(products);\n  const {\n    setSearchValue,\n    clearSearch\n  } = useSearch(products, setProducts, searchProducts);\n  if (products.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"table-block__header\"],\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          clearSearch: clearSearch,\n          setSearchValue: setSearchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          paginationSetting: paginationSetting\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"table-block__content\"],\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          data: products,\n          hasCheckbox: true,\n          idModal: \"purchaseEdit\",\n          checkboxSetting: checkboxSetting,\n          setModalState: setModalState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"errorText\",\n      children: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 12\n    }, this);\n  }\n}\n_s(Products, \"wa+7x0I9fJe91YJ774rj1xStm7c=\", false, function () {\n  return [usePagination, useTableCheckbox, useSearch];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["useContext","useState","MainContext","ProductService","useSearch","useTableCheckbox","usePagination","Pagination","Table","SearchInput","style","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","setModalState","columns","name","selector","row","nameFrom1C","codeFrom1C","products","setProducts","lengthData","setLengthData","loadProducts","limitRowsOnPage","paginationObj","data","getProduct","dataLength","searchProducts","value","searchProduct","paginationSetting","checkboxSetting","setSearchValue","clearSearch","length","children","className","fileName","_jsxFileName","lineNumber","columnNumber","hasCheckbox","idModal","_c","$RefreshReg$"],"sources":["/home/user/Desktop/app-typescript/src/components/Pages/Products/Products.tsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { MainContext } from \"../../../context\";\nimport ProductService from \"../../../services/productService\";\nimport { useSearch } from \"../../../hooks/useSearch\";\nimport { useTableCheckbox } from \"../../../hooks/useTableCheckbox\";\nimport { usePagination } from \"../../../hooks/usePagination\";\n\nimport Pagination from \"../../UI/TabComponents/components/Pagination/Pagination\";\nimport Table from \"../../UI/TabComponents/components/Table/Table\";\nimport SearchInput from \"../../UI/TabComponents/components/SearchInput/SearchInput\";\n\nimport style from \"../../UI/TabComponents/components/Table/components/TableContainer/TableContainer.module.scss\";\n\nimport { IColumns } from \"../../../interfaces/columns\";\nimport { IProductsData } from \"../../../interfaces/mocksInterfaces\";\n\nexport default function Products() {\n  const { setModalState } = useContext(MainContext);\n\n  const columns:IColumns[] = [\n    {\n      name: \"Название\",\n      selector: (row) => row.nameFrom1C,\n    },\n    {\n      name: \"Артикул\",\n      selector: (row) => row.codeFrom1C,\n    },\n  ];\n\n  const [products, setProducts] = useState<IProductsData[]>([]);\n\n  //моковая длина массива для вычисления lastPagePagination\n  const [lengthData, setLengthData] = useState(0);\n\n  const loadProducts = async (limitRowsOnPage, paginationObj) => {\n    const data: {data: IProductsData[]} = await ProductService.getProduct(\n      limitRowsOnPage,\n      paginationObj,\n    );\n    setProducts(data.data);\n    setLengthData(data.dataLength);\n  };\n  const searchProducts = async (value) => {\n    const data = await ProductService.searchProduct(value);\n    setProducts(data);\n  };\n\n  const paginationSetting = usePagination(products, lengthData, loadProducts);\n  const checkboxSetting = useTableCheckbox(products);\n  const { setSearchValue, clearSearch } = useSearch(\n    products,\n    setProducts,\n    searchProducts,\n  );\n\n  if (products.length > 0) {\n    return (\n      <>\n        <div className={style[\"table-block__header\"]}>\n          <SearchInput\n            clearSearch={clearSearch}\n            setSearchValue={setSearchValue}\n          />\n          <Pagination paginationSetting={paginationSetting} />\n        </div>\n        <div className={style[\"table-block__content\"]}>\n          <Table\n            columns={columns}\n            data={products}\n            hasCheckbox={true}\n            idModal={\"purchaseEdit\"}\n            checkboxSetting={checkboxSetting}\n            setModalState={setModalState}\n          />\n        </div>\n      </>\n    );\n  } else {\n    return <div className=\"errorText\">Здесь пока нет товаров</div>;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}