{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport function useTableCheckbox(data) {\n  _s();\n  const [checkedItemsArray, setCheckedItemsArray] = useState([]);\n  function deleteCellTable() {\n    //функция для удаления выделенных чекбоксом полей и отрисовки нового массива\n    for (let i = 0; i < data.length; i++) {\n      if (checkedItemsArray.includes(data[i].id)) {\n        data.splice(i, 1);\n        i--;\n      }\n    }\n    setCheckedItemsArray([]);\n  }\n  const isAllChecked = checkedItemsArray.length && checkedItemsArray.length === data.length;\n  function checkboxHandler(id) {\n    //обработчик для добавления чекбокса одному полю отображаемой таблицы\n    setCheckedItemsArray(prev => {\n      if (prev.includes(id)) {\n        return prev.filter(item => item !== id);\n      } else {\n        return [...prev, id];\n      }\n    });\n    //фильтруем массив и возвращаем новый без находящегося в нем id\n    //иначе если id в массиве нет, разворачиваем старый массив и добавляем туда новый id\n  }\n\n  function allClick() {\n    const newArr = data.map(item => item.id); // создаем новый массив в который помещаем все id полей отображаемой таблицы\n\n    if (newArr.length === checkedItemsArray.length) {\n      // если массив выбранных полей таблицы равен выбранным полям по одному\n      return setCheckedItemsArray([]); // то сбрасываем значение массива до пустого\n    }\n\n    setCheckedItemsArray(newArr); //иначе добавляем оставшиеся поля таблицы в массив\n  }\n\n  return {\n    allClick,\n    checkboxHandler,\n    isAllChecked,\n    deleteCellTable,\n    checkedItemsArray\n  };\n}\n_s(useTableCheckbox, \"8lg0ecJpFC6sBnCpEfbOrtQY3XM=\");","map":{"version":3,"names":["useState","useTableCheckbox","data","_s","checkedItemsArray","setCheckedItemsArray","deleteCellTable","i","length","includes","id","splice","isAllChecked","checkboxHandler","prev","filter","item","allClick","newArr","map"],"sources":["/home/user/Desktop/app-typescript/src/hooks/useTableCheckbox.tsx"],"sourcesContent":["import { useState } from \"react\";\n\nexport function useTableCheckbox(data: any[]) {\n\tconst [checkedItemsArray, setCheckedItemsArray] = useState<any[]>([]);\n\tfunction deleteCellTable() {\n\t\t//функция для удаления выделенных чекбоксом полей и отрисовки нового массива\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (checkedItemsArray.includes(data[i].id)) {\n\t\t\t\tdata.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tsetCheckedItemsArray([]);\n\t}\n\n\tconst isAllChecked =\n\t\tcheckedItemsArray.length && checkedItemsArray.length === data.length;\n\n\tfunction checkboxHandler(id) {\n\t\t//обработчик для добавления чекбокса одному полю отображаемой таблицы\n\t\tsetCheckedItemsArray(prev => {\n\t\t\tif (prev.includes(id)) {\n\t\t\t\treturn prev.filter(item => item !== id);\n\t\t\t} else {\n\t\t\t\treturn [...prev, id];\n\t\t\t}\n\t\t});\n\t\t//фильтруем массив и возвращаем новый без находящегося в нем id\n\t\t//иначе если id в массиве нет, разворачиваем старый массив и добавляем туда новый id\n\t}\n\n\tfunction allClick() {\n\t\tconst newArr = data.map(item => item.id); // создаем новый массив в который помещаем все id полей отображаемой таблицы\n\n\t\tif (newArr.length === checkedItemsArray.length) {\n\t\t\t// если массив выбранных полей таблицы равен выбранным полям по одному\n\t\t\treturn setCheckedItemsArray([]); // то сбрасываем значение массива до пустого\n\t\t}\n\t\tsetCheckedItemsArray(newArr); //иначе добавляем оставшиеся поля таблицы в массив\n\t}\n\n\treturn {\n\t\tallClick,\n\t\tcheckboxHandler,\n\t\tisAllChecked,\n\t\tdeleteCellTable,\n\t\tcheckedItemsArray,\n\t};\n}\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,SAASC,gBAAgBA,CAACC,IAAW,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGL,QAAQ,CAAQ,EAAE,CAAC;EACrE,SAASM,eAAeA,CAAA,EAAG;IAC1B;IACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIH,iBAAiB,CAACK,QAAQ,CAACP,IAAI,CAACK,CAAC,CAAC,CAACG,EAAE,CAAC,EAAE;QAC3CR,IAAI,CAACS,MAAM,CAACJ,CAAC,EAAE,CAAC,CAAC;QACjBA,CAAC,EAAE;MACJ;IACD;IACAF,oBAAoB,CAAC,EAAE,CAAC;EACzB;EAEA,MAAMO,YAAY,GACjBR,iBAAiB,CAACI,MAAM,IAAIJ,iBAAiB,CAACI,MAAM,KAAKN,IAAI,CAACM,MAAM;EAErE,SAASK,eAAeA,CAACH,EAAE,EAAE;IAC5B;IACAL,oBAAoB,CAACS,IAAI,IAAI;MAC5B,IAAIA,IAAI,CAACL,QAAQ,CAACC,EAAE,CAAC,EAAE;QACtB,OAAOI,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,KAAKN,EAAE,CAAC;MACxC,CAAC,MAAM;QACN,OAAO,CAAC,GAAGI,IAAI,EAAEJ,EAAE,CAAC;MACrB;IACD,CAAC,CAAC;IACF;IACA;EACD;;EAEA,SAASO,QAAQA,CAAA,EAAG;IACnB,MAAMC,MAAM,GAAGhB,IAAI,CAACiB,GAAG,CAACH,IAAI,IAAIA,IAAI,CAACN,EAAE,CAAC,CAAC,CAAC;;IAE1C,IAAIQ,MAAM,CAACV,MAAM,KAAKJ,iBAAiB,CAACI,MAAM,EAAE;MAC/C;MACA,OAAOH,oBAAoB,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC;;IACAA,oBAAoB,CAACa,MAAM,CAAC,CAAC,CAAC;EAC/B;;EAEA,OAAO;IACND,QAAQ;IACRJ,eAAe;IACfD,YAAY;IACZN,eAAe;IACfF;EACD,CAAC;AACF;AAACD,EAAA,CA9CeF,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}