{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/app-typescript/src/components/Pages/Products/Products.tsx\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { MainContext } from \"../../../context\";\nimport ProductService from \"../../../services/productService\";\nimport { useSearch } from \"../../../hooks/useSearch\";\nimport { useTableCheckbox } from \"../../../hooks/useTableCheckbox\";\nimport { usePagination } from \"../../../hooks/usePagination\";\nimport Pagination from \"../../UI/TabComponents/components/Pagination/Pagination\";\nimport Table from \"../../UI/TabComponents/components/Table/Table\";\nimport SearchInput from \"../../UI/TabComponents/components/SearchInput/SearchInput\";\nimport style from \"../../UI/TabComponents/components/Table/components/TableContainer/TableContainer.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  const {\n    setModalState\n  } = useContext(MainContext);\n  const columns = [{\n    name: \"Название\",\n    selector: row => row.nameFrom1C\n  }, {\n    name: \"Артикул\",\n    selector: row => row.codeFrom1C\n  }];\n  const [products, setProducts] = useState([]);\n\n  //моковая длина массива для вычисления lastPagePagination\n  const [lengthData, setLengthData] = useState(0);\n  const loadProducts = async (limitRowsOnPage, paginationObj) => {\n    const data = await ProductService.getProduct(limitRowsOnPage, paginationObj);\n    setProducts(data.data);\n    setLengthData(data.dataLength);\n  };\n  const searchProducts = async value => {\n    const data = await ProductService.searchProduct(value);\n    setProducts(data);\n  };\n  const paginationSetting = usePagination(products, lengthData, loadProducts);\n  const checkboxSetting = useTableCheckbox(products);\n  const {\n    setSearchValue,\n    clearSearch\n  } = useSearch(products, setProducts, searchProducts);\n  if (products.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"table-block__header\"],\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          clearSearch: clearSearch,\n          setSearchValue: setSearchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          paginationSetting: paginationSetting\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style[\"table-block__content\"],\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          data: products,\n          hasCheckbox: true,\n          idModal: \"purchaseEdit\",\n          checkboxSetting: checkboxSetting,\n          setModalState: setModalState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"errorText\",\n      children: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 10\n    }, this);\n  }\n}\n_s(Products, \"wa+7x0I9fJe91YJ774rj1xStm7c=\", false, function () {\n  return [usePagination, useTableCheckbox, useSearch];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["useContext","useState","MainContext","ProductService","useSearch","useTableCheckbox","usePagination","Pagination","Table","SearchInput","style","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","setModalState","columns","name","selector","row","nameFrom1C","codeFrom1C","products","setProducts","lengthData","setLengthData","loadProducts","limitRowsOnPage","paginationObj","data","getProduct","dataLength","searchProducts","value","searchProduct","paginationSetting","checkboxSetting","setSearchValue","clearSearch","length","children","className","fileName","_jsxFileName","lineNumber","columnNumber","hasCheckbox","idModal","_c","$RefreshReg$"],"sources":["/home/user/Desktop/app-typescript/src/components/Pages/Products/Products.tsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { MainContext } from \"../../../context\";\nimport ProductService from \"../../../services/productService\";\nimport { useSearch } from \"../../../hooks/useSearch\";\nimport { useTableCheckbox } from \"../../../hooks/useTableCheckbox\";\nimport { usePagination } from \"../../../hooks/usePagination\";\n\nimport Pagination from \"../../UI/TabComponents/components/Pagination/Pagination\";\nimport Table from \"../../UI/TabComponents/components/Table/Table\";\nimport SearchInput from \"../../UI/TabComponents/components/SearchInput/SearchInput\";\n\nimport style from \"../../UI/TabComponents/components/Table/components/TableContainer/TableContainer.module.scss\";\n\nimport type { IColumns } from \"../../../interfaces/columns\";\nimport type { IProductsData } from \"../../../interfaces/mocksInterfaces\";\n\ntype TLoadData = { data: IProductsData[]; dataLength: number };\n\ntype TLoadProductsFunc = (\n\tlimitRowsOnPage: number,\n\tpaginationObj: number\n) => IProductsData[];\n\nexport default function Products() {\n\tconst { setModalState } = useContext(MainContext);\n\n\tconst columns: IColumns[] = [\n\t\t{\n\t\t\tname: \"Название\",\n\t\t\tselector: row => row.nameFrom1C,\n\t\t},\n\t\t{\n\t\t\tname: \"Артикул\",\n\t\t\tselector: row => row.codeFrom1C,\n\t\t},\n\t];\n\n\tconst [products, setProducts] = useState<IProductsData[]>([]);\n\n\t//моковая длина массива для вычисления lastPagePagination\n\tconst [lengthData, setLengthData] = useState(0);\n\n\tconst loadProducts: TLoadProductsFunc = async (\n\t\tlimitRowsOnPage,\n\t\tpaginationObj\n\t) => {\n\t\tconst data: TLoadData = await ProductService.getProduct(\n\t\t\tlimitRowsOnPage,\n\t\t\tpaginationObj\n\t\t);\n\t\tsetProducts(data.data);\n\t\tsetLengthData(data.dataLength);\n\t};\n\tconst searchProducts = async (value: string) => {\n\t\tconst data = await ProductService.searchProduct(value);\n\t\tsetProducts(data);\n\t};\n\n\tconst paginationSetting = usePagination(products, lengthData, loadProducts);\n\tconst checkboxSetting = useTableCheckbox(products);\n\tconst { setSearchValue, clearSearch } = useSearch(\n\t\tproducts,\n\t\tsetProducts,\n\t\tsearchProducts\n\t);\n\n\tif (products.length > 0) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className={style[\"table-block__header\"]}>\n\t\t\t\t\t<SearchInput\n\t\t\t\t\t\tclearSearch={clearSearch}\n\t\t\t\t\t\tsetSearchValue={setSearchValue}\n\t\t\t\t\t/>\n\t\t\t\t\t<Pagination paginationSetting={paginationSetting} />\n\t\t\t\t</div>\n\t\t\t\t<div className={style[\"table-block__content\"]}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tdata={products}\n\t\t\t\t\t\thasCheckbox={true}\n\t\t\t\t\t\tidModal=\"purchaseEdit\"\n\t\t\t\t\t\tcheckboxSetting={checkboxSetting}\n\t\t\t\t\t\tsetModalState={setModalState}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t} else {\n\t\treturn <div className=\"errorText\">Здесь пока нет товаров</div>;\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}